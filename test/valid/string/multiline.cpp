TEST(valid_string_tests, test_multiline)
{
    const string toml("# NOTE: this file includes some literal tab characters.\n\nmultiline_empty_one = \"\"\"\"\"\"\n\n# A newline immediately following the opening delimiter will be trimmed.\nmultiline_empty_two = \"\"\"\n\"\"\"\n\n# \\ at the end of line trims newlines as well; note that last \\ is followed by\n# two spaces, which are ignored.\nmultiline_empty_three = \"\"\"\\\n    \"\"\"\nmultiline_empty_four = \"\"\"\\\n   \\\n   \\  \n   \"\"\"\n\nequivalent_one = \"The quick brown fox jumps over the lazy dog.\"\nequivalent_two = \"\"\"\nThe quick brown \\\n\n\n  fox jumps over \\\n    the lazy dog.\"\"\"\n\nequivalent_three = \"\"\"\\\n       The quick brown \\\n       fox jumps over \\\n       the lazy dog.\\\n       \"\"\"\n\nwhitespace-after-bs = \"\"\"\\\n       The quick brown \\\n       fox jumps over \\   \n       the lazy dog.\\\t\n       \"\"\"\n\nno-space = \"\"\"a\\\n    b\"\"\"\n\n# Has tab character.\nkeep-ws-before = \"\"\"a   \t\\\n   b\"\"\"\n\nescape-bs-1 = \"\"\"a \\\\\nb\"\"\"\n\nescape-bs-2 = \"\"\"a \\\\\\\nb\"\"\"\n\nescape-bs-3 = \"\"\"a \\\\\\\\\n  b\"\"\"\n", 927);

    const Table expected = {{ std::string("equivalent_one", 14), Value(std::string("The quick brown fox jumps over the lazy dog.", 44)) },{ std::string("equivalent_three", 16), Value(std::string("The quick brown fox jumps over the lazy dog.", 44)) },{ std::string("equivalent_two", 14), Value(std::string("The quick brown fox jumps over the lazy dog.", 44)) },{ std::string("escape-bs-1", 11), Value(std::string("a \\\nb", 5)) },{ std::string("escape-bs-2", 11), Value(std::string("a \\b", 4)) },{ std::string("escape-bs-3", 11), Value(std::string("a \\\\\n  b", 8)) },{ std::string("keep-ws-before", 14), Value(std::string("a   \tb", 6)) },{ std::string("multiline_empty_four", 20), Value(std::string("", 0)) },{ std::string("multiline_empty_one", 19), Value(std::string("", 0)) },{ std::string("multiline_empty_three", 21), Value(std::string("", 0)) },{ std::string("multiline_empty_two", 19), Value(std::string("", 0)) },{ std::string("no-space", 8), Value(std::string("ab", 2)) },{ std::string("whitespace-after-bs", 19), Value(std::string("The quick brown fox jumps over the lazy dog.", 44)) }};

    assert_parsed(toml, expected);
}
